#!/usr/bin/env bash
name='cryptsetup'
release='4'
version='2.8.1'
url='https://gitlab.com/cryptsetup/'
description='Tool to setup encrypted devices with dm-crypt'
email='bayramk@gmail.com'
maintainer='bk'
license=('GPLv3')
source=("https://gitlab.com/cryptsetup/cryptsetup/-/archive/v$version/cryptsetup-v$version.tar.gz")
depends=(lvm2 json-c openssl util-linux popt)
makedepends=()
sha256sums=('f422d3a0efbdd5792c88e9e10b6c495edcc60fce74fe2f340febb98590560c9e')
group=(sys.fs)
uses=()
arch=('x86_64')

cd $name-v$version
setup(){
	autoreconf -fvi
	./configure --prefix=/usr \
       --libdir=/usr/lib64/ \
       --with-crypto_backend=openssl \
		   --disable-external-tokens \
		   --disable-ssh-token \
       --disable-asciidoc
}

build(){
    make $jobs
}

package(){
    make install $jobs
}

